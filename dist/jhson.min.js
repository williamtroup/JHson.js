/*! JHson.js v0.1.0 | (c) Bunoon 2024 | MIT License */
(function(){function D(a,b,c,f,h){var d={},m=a.children.length,n=0;if(b){var p=a.attributes.length;"textarea"===a.nodeName.toLowerCase()&&t(a.value)&&(d[g.text]=a.value);for(var k=0;k<p;k++){var l=a.attributes[k];w(l.nodeName)&&(d[g.attribute+l.nodeName]=l.nodeValue)}}if(c&&x.getComputedStyle)for(p=y.defaultView.getComputedStyle(a),k=p.length,l=0;l<k;l++){var e=p[l];if(q.cssPropertiesToIgnore.indexOf(e)===B.notFound){var r=g.cssStyle+e;e=p.getPropertyValue(e);h.hasOwnProperty(r)&&h[r]===e||(d[r]=
e,h[r]=d[r])}}if(0<m)for(n=0,d[g.children]=[],p=0;p<m;p++){k=D;l=a.children[p];r=void 0;e=h;var E={};for(r in e)e.hasOwnProperty(r)&&(E[r]=e[r]);k=k(l,b,c,f,E);l=!1;J.indexOf(k.nodeName.toLowerCase())>B.notFound?n++:q.nodeTypesToIgnore.indexOf(k.nodeName.toLowerCase())===B.notFound&&(l=!0,n++);l&&(l={},l[k.nodeName]=k.nodeValues,d[g.children].push(l))}f&&(b=n,w(a.innerText)&&(0<b&&t(d[g.children])&&0===d[g.children].length?d[g.text]=a.innerHTML:a.innerText===a.innerHTML&&(d[g.text]=a.innerText)));
t(d[g.children])&&0===d[g.children].length&&delete d[g.children];return{nodeName:a.nodeName.toLowerCase(),nodeValues:d}}function K(a,b,c){b=L(b);var f=[];if(z(c)){for(var h in c)c.hasOwnProperty(h)&&f.push(h);f=f.sort(function(m,n){return n.length-m.length})}if(b.parsed&&z(b.result))for(var d in b.result)if(d===a.nodeName.toLowerCase()){for(;0<a.attributes.length;)a.removeAttribute(a.attributes[0].name);a.innerHTML=u.empty;F(a,b.result[d],f,c)}return M}function F(a,b,c,f){var h=c.length,d;for(d in b)if(G(d,
g.attribute)){var m=d.replace(g.attribute,u.empty);a.setAttribute(m,b[d])}else if(G(d,g.cssStyle))m=d.replace(g.cssStyle,u.empty),a.style[m]=b[d];else if(d===g.text){if(a.innerHTML=b[d],0<h)for(m=0;m<h;m++){var n=c[m];f.hasOwnProperty(n)&&(a.innerHTML=a.innerHTML.replace(new RegExp(n,"g"),f[n]))}}else if(d===g.children)for(m=b[d].length,n=0;n<m;n++){var p=b[d][n],k;for(k in p)if(p.hasOwnProperty(k)){var l=a,e=k.toLowerCase().toLowerCase(),r="text"===e;C.hasOwnProperty(e)||(C[e]=r?y.createTextNode(u.empty):
y.createElement(e));e=C[e].cloneNode(!1);l.appendChild(e);F(e,p[k],c,f)}}}function t(a){return null!==a&&void 0!==a&&a!==u.empty}function z(a){return t(a)&&"object"===typeof a}function v(a){return t(a)&&"boolean"===typeof a}function w(a){return t(a)&&"string"===typeof a}function N(a){return t(a)&&"function"===typeof a}function G(a,b){return a.substring(0,b.length).toLowerCase()===b.toLowerCase()}function H(a,b){if(w(a))a=a.split(u.space),0===a.length&&(a=b);else{var c=a;a=z(c)&&c instanceof Array?
c:b}return a}function L(a){var b=!0,c=null;try{w(a)&&(c=A.parse(a))}catch(f){try{c=eval("("+a+")"),N(c)&&(c=c())}catch(h){q.safeMode||(console.error("Errors in object: "+f.message+", "+h.message),b=!1),c=null}}return{parsed:b,result:c}}function I(){var a=q;var b=q.safeMode;b=v(b)?b:!0;a.safeMode=b;q.nodeTypesToIgnore=H(q.nodeTypesToIgnore,[]);q.cssPropertiesToIgnore=H(q.cssPropertiesToIgnore,[]);a=q;b=q.jsonIndentationSpaces;var c=t(b)&&"number"===typeof b;a.jsonIndentationSpaces=c?b:2}var M=this,
y=null,x=null,A=null,q={},C={},u={empty:"",space:" "},g={text:"#text",cssStyle:"$",attribute:"@",children:"&children"},B={notFound:-1},J="b strong i em mark small del ins sub sup".split(" ");this.get=function(a,b,c,f,h){b=v(b)?b:!0;c=v(c)?c:!1;f=v(f)?f:!0;h=v(h)?h:!0;var d={};a=D(a,b,c,f,{});d[a.nodeName]=a.nodeValues;return h?A.stringify(d,null,q.jsonIndentationSpaces):A.stringify(d)};this.write=function(a,b,c){return K(a,b,c)};this.setConfiguration=function(a){q=z(a)?a:{};I();return this};this.getVersion=
function(){return"0.1.0"};(function(a,b,c){y=a;x=b;A=c;I();t(x.$jhson)||(x.$jhson=this)})(document,window,JSON)})();