/*! JHson.js v0.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function F(a,b,c,h,l,e){var d={},p=a.children.length,u=0;if(b){var m=a.attributes.length;"textarea"===a.nodeName.toLowerCase()&&t(a.value)&&(d[k.text]=a.value);for(var n=0;n<m;n++){var f=a.attributes[n];x(f.nodeName)&&(d[k.attribute+f.nodeName]=f.nodeValue)}}if(c&&y.getComputedStyle)for(m=z.defaultView.getComputedStyle(a),n=m.length,f=0;f<n;f++){var q=m[f];if(g.cssPropertiesToIgnore.indexOf(q)===C.notFound){var r=k.cssStyle+q;q=m.getPropertyValue(q);e.hasOwnProperty(r)&&e[r]===q||(d[r]=
q,e[r]=d[r])}}if(l&&0<p)for(u=0,d[k.children]=[],m=0;m<p;m++){n=F;f=a.children[m];r=void 0;q=e;var G={};for(r in q)q.hasOwnProperty(r)&&(G[r]=q[r]);n=n(f,b,c,h,l,G);f=!1;g.formattingNodeTypes.indexOf(n.nodeName.toLowerCase())>C.notFound?u++:g.nodeTypesToIgnore.indexOf(n.nodeName.toLowerCase())===C.notFound&&(f=!0,u++);f&&(f={},f[n.nodeName]=n.nodeValues,d[k.children].push(f))}h&&(b=u,x(a.innerText)&&(0<b&&t(d[k.children])&&0===d[k.children].length?d[k.text]=a.innerHTML:a.innerText===a.innerHTML&&
(d[k.text]=a.innerText)));t(d[k.children])&&0===d[k.children].length&&delete d[k.children];return{nodeName:a.nodeName.toLowerCase(),nodeValues:d}}function K(a,b,c){b=L(b);var h=[];if(A(c)){for(var l in c)c.hasOwnProperty(l)&&h.push(l);h=h.sort(function(d,p){return p.length-d.length})}if(b.parsed&&A(b.result))for(var e in b.result)if(e===a.nodeName.toLowerCase()){for(;0<a.attributes.length;)a.removeAttribute(a.attributes[0].name);a.innerHTML=v.empty;H(a,b.result[e],h,c)}return M}function H(a,b,c,h){var l=
c.length,e;for(e in b)if(I(e,k.attribute)){var d=e.replace(k.attribute,v.empty);a.setAttribute(d,b[e])}else if(I(e,k.cssStyle))d=e.replace(k.cssStyle,v.empty),a.style[d]=b[e];else if(e===k.text){if(a.innerHTML=b[e],0<l)for(d=0;d<l;d++){var p=c[d];h.hasOwnProperty(p)&&(a.innerHTML=a.innerHTML.replace(new RegExp(p,"g"),h[p]))}}else if(e===k.children)for(d=b[e].length,p=0;p<d;p++){var u=b[e][p],m;for(m in u)if(u.hasOwnProperty(m)){var n=a,f=m.toLowerCase().toLowerCase(),q="text"===f;D.hasOwnProperty(f)||
(D[f]=q?z.createTextNode(v.empty):z.createElement(f));f=D[f].cloneNode(!1);n.appendChild(f);H(f,u[m],c,h)}}}function t(a){return null!==a&&void 0!==a&&a!==v.empty}function A(a){return t(a)&&"object"===typeof a}function w(a){return t(a)&&"boolean"===typeof a}function x(a){return t(a)&&"string"===typeof a}function N(a){return t(a)&&"function"===typeof a}function I(a,b){return a.substring(0,b.length).toLowerCase()===b.toLowerCase()}function E(a,b){if(x(a))a=a.split(v.space),0===a.length&&(a=b);else{var c=
a;a=A(c)&&c instanceof Array?c:b}return a}function L(a){var b=!0,c=null;try{x(a)&&(c=B.parse(a))}catch(h){try{c=eval("("+a+")"),N(c)&&(c=c())}catch(l){g.safeMode||(console.error("Errors in object: "+h.message+", "+l.message),b=!1),c=null}}return{parsed:b,result:c}}function J(a){a=g=A(a)?a:{};var b=g.safeMode;b=w(b)?b:!0;a.safeMode=b;g.nodeTypesToIgnore=E(g.nodeTypesToIgnore,[]);g.cssPropertiesToIgnore=E(g.cssPropertiesToIgnore,[]);a=g;b=g.jsonIndentationSpaces;var c=t(b)&&"number"===typeof b;a.jsonIndentationSpaces=
c?b:2;g.formattingNodeTypes=E(g.formattingNodeTypes,"b strong i em mark small del ins sub sup".split(" "))}var M=this,z=null,y=null,B=null,g={},D={},v={empty:"",space:" "},k={text:"#text",cssStyle:"$",attribute:"@",children:"&children"},C={notFound:-1};this.get=function(a,b,c,h,l,e){b=w(b)?b:!0;c=w(c)?c:!1;h=w(h)?h:!0;l=w(l)?l:!0;e=w(e)?e:!0;var d={};a=F(a,b,c,h,l,{});d[a.nodeName]=a.nodeValues;return e?B.stringify(d,null,g.jsonIndentationSpaces):B.stringify(d)};this.write=function(a,b,c){return K(a,
b,c)};this.setConfiguration=function(a){var b=!1,c;for(c in a)a.hasOwnProperty(c)&&g.hasOwnProperty(c)&&a[c]!==g[c]&&(g[c]=a[c],b=!0);b&&J(g);return this};this.getVersion=function(){return"0.2.0"};(function(a,b,c){z=a;y=b;B=c;J();t(y.$jhson)||(y.$jhson=this)})(document,window,JSON)})();