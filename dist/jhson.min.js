/*! JHson.js v0.1.0 | (c) Bunoon 2024 | MIT License */
(function(){function D(a,b,c,f,g){var d={},m=a.children.length,n=0;if(b)for(var p=a.attributes.length,h=0;h<p;h++){var k=a.attributes[h];w(k.nodeName)&&(d[l.attribute+k.nodeName]=k.nodeValue)}if(c&&x.getComputedStyle)for(p=y.defaultView.getComputedStyle(a),h=p.length,k=0;k<h;k++){var e=p[k];if(q.cssPropertiesToIgnore.indexOf(e)===B.notFound){var r=l.cssStyle+e;e=p.getPropertyValue(e);g.hasOwnProperty(r)&&g[r]===e||(d[r]=e,g[r]=d[r])}}if(0<m)for(n=0,d[l.children]=[],p=0;p<m;p++){h=D;k=a.children[p];
r=void 0;e=g;var E={};for(r in e)e.hasOwnProperty(r)&&(E[r]=e[r]);h=h(k,b,c,f,E);k=!1;J.indexOf(h.nodeName.toLowerCase())>B.notFound?n++:q.nodeTypesToIgnore.indexOf(h.nodeName.toLowerCase())===B.notFound&&(k=!0,n++);k&&(k={},k[h.nodeName]=h.nodeValues,d[l.children].push(k))}f&&(b=n,w(a.innerText)&&(0<b&&t(d[l.children])&&0===d[l.children].length?d[l.text]=a.innerHTML:a.innerText===a.innerHTML&&(d[l.text]=a.innerText)));t(d[l.children])&&0===d[l.children].length&&delete d[l.children];return{nodeName:a.nodeName.toLowerCase(),
nodeValues:d}}function K(a,b,c){b=L(b);var f=[];if(z(c)){for(var g in c)c.hasOwnProperty(g)&&f.push(g);f=f.sort(function(m,n){return n.length-m.length})}if(b.parsed&&z(b.result))for(var d in b.result)if(d===a.nodeName.toLowerCase()){for(;0<a.attributes.length;)a.removeAttribute(a.attributes[0].name);a.innerHTML=u.empty;F(a,b.result[d],f,c)}return M}function F(a,b,c,f){var g=c.length,d;for(d in b)if(G(d,l.attribute)){var m=d.replace(l.attribute,u.empty);a.setAttribute(m,b[d])}else if(G(d,l.cssStyle))m=
d.replace(l.cssStyle,u.empty),a.style[m]=b[d];else if(d===l.text){if(a.innerHTML=b[d],0<g)for(m=0;m<g;m++){var n=c[m];f.hasOwnProperty(n)&&(a.innerHTML=a.innerHTML.replace(new RegExp(n,"g"),f[n]))}}else if(d===l.children)for(m=b[d].length,n=0;n<m;n++){var p=b[d][n],h;for(h in p)if(p.hasOwnProperty(h)){var k=a,e=h.toLowerCase().toLowerCase(),r="text"===e;C.hasOwnProperty(e)||(C[e]=r?y.createTextNode(u.empty):y.createElement(e));e=C[e].cloneNode(!1);k.appendChild(e);F(e,p[h],c,f)}}}function t(a){return null!==
a&&void 0!==a&&a!==u.empty}function z(a){return t(a)&&"object"===typeof a}function v(a){return t(a)&&"boolean"===typeof a}function w(a){return t(a)&&"string"===typeof a}function N(a){return t(a)&&"function"===typeof a}function G(a,b){return a.substring(0,b.length).toLowerCase()===b.toLowerCase()}function H(a,b){if(w(a))a=a.split(u.space),0===a.length&&(a=b);else{var c=a;a=z(c)&&c instanceof Array?c:b}return a}function L(a){var b=!0,c=null;try{w(a)&&(c=A.parse(a))}catch(f){try{c=eval("("+a+")"),N(c)&&
(c=c())}catch(g){q.safeMode||(console.error("Errors in object: "+f.message+", "+g.message),b=!1),c=null}}return{parsed:b,result:c}}function I(){var a=q;var b=q.safeMode;b=v(b)?b:!0;a.safeMode=b;q.nodeTypesToIgnore=H(q.nodeTypesToIgnore,[]);q.cssPropertiesToIgnore=H(q.cssPropertiesToIgnore,[]);a=q;b=q.jsonIndentationSpaces;var c=t(b)&&"number"===typeof b;a.jsonIndentationSpaces=c?b:2}var M=this,y=null,x=null,A=null,q={},C={},u={empty:"",space:" "},l={text:"#text",cssStyle:"$",attribute:"@",children:"&children"},
B={notFound:-1},J="b strong i em mark small del ins sub sup".split(" ");this.get=function(a,b,c,f,g){b=v(b)?b:!0;c=v(c)?c:!1;f=v(f)?f:!0;g=v(g)?g:!0;var d={};a=D(a,b,c,f,{});d[a.nodeName]=a.nodeValues;return g?A.stringify(d,null,q.jsonIndentationSpaces):A.stringify(d)};this.write=function(a,b,c){return K(a,b,c)};this.setConfiguration=function(a){q=z(a)?a:{};I();return this};this.getVersion=function(){return"0.1.0"};(function(a,b,c){y=a;x=b;A=c;I();t(x.$jhson)||(x.$jhson=this)})(document,window,JSON)})();