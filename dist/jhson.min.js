/*! JHson.js v0.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function E(a,b,c,g,k){var d={},n=a.children.length,p=0;if(b){var q=a.attributes.length;"textarea"===a.nodeName.toLowerCase()&&t(a.value)&&(d[h.text]=a.value);for(var l=0;l<q;l++){var m=a.attributes[l];w(m.nodeName)&&(d[h.attribute+m.nodeName]=m.nodeValue)}}if(c&&x.getComputedStyle)for(q=y.defaultView.getComputedStyle(a),l=q.length,m=0;m<l;m++){var e=q[m];if(f.cssPropertiesToIgnore.indexOf(e)===B.notFound){var r=h.cssStyle+e;e=q.getPropertyValue(e);k.hasOwnProperty(r)&&k[r]===e||(d[r]=
e,k[r]=d[r])}}if(0<n)for(p=0,d[h.children]=[],q=0;q<n;q++){l=E;m=a.children[q];r=void 0;e=k;var F={};for(r in e)e.hasOwnProperty(r)&&(F[r]=e[r]);l=l(m,b,c,g,F);m=!1;f.formattingNodeTypes.indexOf(l.nodeName.toLowerCase())>B.notFound?p++:f.nodeTypesToIgnore.indexOf(l.nodeName.toLowerCase())===B.notFound&&(m=!0,p++);m&&(m={},m[l.nodeName]=l.nodeValues,d[h.children].push(m))}g&&(b=p,w(a.innerText)&&(0<b&&t(d[h.children])&&0===d[h.children].length?d[h.text]=a.innerHTML:a.innerText===a.innerHTML&&(d[h.text]=
a.innerText)));t(d[h.children])&&0===d[h.children].length&&delete d[h.children];return{nodeName:a.nodeName.toLowerCase(),nodeValues:d}}function J(a,b,c){b=K(b);var g=[];if(z(c)){for(var k in c)c.hasOwnProperty(k)&&g.push(k);g=g.sort(function(n,p){return p.length-n.length})}if(b.parsed&&z(b.result))for(var d in b.result)if(d===a.nodeName.toLowerCase()){for(;0<a.attributes.length;)a.removeAttribute(a.attributes[0].name);a.innerHTML=u.empty;G(a,b.result[d],g,c)}return L}function G(a,b,c,g){var k=c.length,
d;for(d in b)if(H(d,h.attribute)){var n=d.replace(h.attribute,u.empty);a.setAttribute(n,b[d])}else if(H(d,h.cssStyle))n=d.replace(h.cssStyle,u.empty),a.style[n]=b[d];else if(d===h.text){if(a.innerHTML=b[d],0<k)for(n=0;n<k;n++){var p=c[n];g.hasOwnProperty(p)&&(a.innerHTML=a.innerHTML.replace(new RegExp(p,"g"),g[p]))}}else if(d===h.children)for(n=b[d].length,p=0;p<n;p++){var q=b[d][p],l;for(l in q)if(q.hasOwnProperty(l)){var m=a,e=l.toLowerCase().toLowerCase(),r="text"===e;C.hasOwnProperty(e)||(C[e]=
r?y.createTextNode(u.empty):y.createElement(e));e=C[e].cloneNode(!1);m.appendChild(e);G(e,q[l],c,g)}}}function t(a){return null!==a&&void 0!==a&&a!==u.empty}function z(a){return t(a)&&"object"===typeof a}function v(a){return t(a)&&"boolean"===typeof a}function w(a){return t(a)&&"string"===typeof a}function M(a){return t(a)&&"function"===typeof a}function H(a,b){return a.substring(0,b.length).toLowerCase()===b.toLowerCase()}function D(a,b){if(w(a))a=a.split(u.space),0===a.length&&(a=b);else{var c=
a;a=z(c)&&c instanceof Array?c:b}return a}function K(a){var b=!0,c=null;try{w(a)&&(c=A.parse(a))}catch(g){try{c=eval("("+a+")"),M(c)&&(c=c())}catch(k){f.safeMode||(console.error("Errors in object: "+g.message+", "+k.message),b=!1),c=null}}return{parsed:b,result:c}}function I(a){a=f=z(a)?a:{};var b=f.safeMode;b=v(b)?b:!0;a.safeMode=b;f.nodeTypesToIgnore=D(f.nodeTypesToIgnore,[]);f.cssPropertiesToIgnore=D(f.cssPropertiesToIgnore,[]);a=f;b=f.jsonIndentationSpaces;var c=t(b)&&"number"===typeof b;a.jsonIndentationSpaces=
c?b:2;f.formattingNodeTypes=D(f.formattingNodeTypes,"b strong i em mark small del ins sub sup".split(" "))}var L=this,y=null,x=null,A=null,f={},C={},u={empty:"",space:" "},h={text:"#text",cssStyle:"$",attribute:"@",children:"&children"},B={notFound:-1};this.get=function(a,b,c,g,k){b=v(b)?b:!0;c=v(c)?c:!1;g=v(g)?g:!0;k=v(k)?k:!0;var d={};a=E(a,b,c,g,{});d[a.nodeName]=a.nodeValues;return k?A.stringify(d,null,f.jsonIndentationSpaces):A.stringify(d)};this.write=function(a,b,c){return J(a,b,c)};this.setConfiguration=
function(a){var b=!1,c;for(c in a)a.hasOwnProperty(c)&&f.hasOwnProperty(c)&&a[c]!==f[c]&&(f[c]=a[c],b=!0);b&&I(f);return this};this.getVersion=function(){return"0.2.0"};(function(a,b,c){y=a;x=b;A=c;I();t(x.$jhson)||(x.$jhson=this)})(document,window,JSON)})();