/*! JHson.js v0.5.0 | (c) Bunoon 2024 | MIT License */
(function(){function E(a,c,b){var d={},l=a.children.length,q=0;if(c.includeAttributes){var k=a.attributes.length;"textarea"===a.nodeName.toLowerCase()&&t(a.value)&&(d[g.text]=a.value);for(var e=0;e<k;e++){var f=a.attributes[e];u(f.nodeName)&&(d[g.attribute+f.nodeName]=f.nodeValue)}}if(c.includeCssStyles&&y.getComputedStyle)for(k=v.defaultView.getComputedStyle(a),e=k.length,f=0;f<e;f++){var h=k[f];if(c.ignoreCssProperties.indexOf(h)===A.notFound){var m=g.cssStyle+h;h=k.getPropertyValue(h);b.hasOwnProperty(m)&&
b[m]===h||(d[m]=h,b[m]=d[m])}}if(c.includeChildren&&0<l)for(q=0,d[g.children]=[],k=0;k<l;k++){e=E;f=a.children[k];m=void 0;h=b;var w={};for(m in h)h.hasOwnProperty(m)&&(w[m]=h[m]);e=e(f,c,w);f=!1;p.formattingNodeTypes.indexOf(e.nodeName.toLowerCase())>A.notFound?q++:c.ignoreNodeTypes.indexOf(e.nodeName.toLowerCase())===A.notFound&&(f=!0,q++);f&&(f={},f[e.nodeName]=e.nodeValues,d[g.children].push(f))}c.includeText&&(c=q,u(a.innerText)&&(0<c&&t(d[g.children])&&0===d[g.children].length?d[g.text]=a.innerHTML:
a.innerText.trim()===a.innerHTML.trim()&&(d[g.text]=a.innerText)));t(d[g.children])&&0===d[g.children].length&&delete d[g.children];return{nodeName:a.nodeName.toLowerCase(),nodeValues:d}}function J(a,c){var b={css:{}};if(x(a)&&u(c.json)){var d=K(c.json),l=[];c.clearCssFromHead&&L();if(x(c.templateData)){for(var q in c.templateData)c.templateData.hasOwnProperty(q)&&l.push(q);l=l.sort(function(e,f){return f.length-e.length})}if(d.parsed&&x(d.result))for(var k in d.result)if(k===a.nodeName.toLowerCase()){if(c.removeAttributes)for(;0<
a.attributes.length;)a.removeAttribute(a.attributes[0].name);c.clearHTML&&(a.innerHTML=n.empty);F(a,d.result[k],l,c,b)}c.addCssToHead&&M(b)}return N}function F(a,c,b,d,l){var q=b.length,k=[],e;for(e in c)if(G(e,g.attribute)){var f=e.replace(g.attribute,n.empty);a.setAttribute(f,c[e])}else if(G(e,g.cssStyle))f=e.replace(g.cssStyle,n.empty),d.addCssToHead?k.push(f+":"+c[e]+";"):a.style[f]=c[e];else if(e===g.text){if(a.innerHTML=c[e],0<q)for(f=0;f<q;f++){var h=b[f];d.templateData.hasOwnProperty(h)&&
(a.innerHTML=a.innerHTML.replace(new RegExp(h,"g"),d.templateData[h]))}}else if(e===g.children)for(f=c[e].length,h=0;h<f;h++){var m=c[e][h],w;for(w in m)if(m.hasOwnProperty(w)){var O=H(a,w.toLowerCase());F(O,m[w],b,d,l)}}if(0<k.length){if(u(a.className))c=a.className.split(n.space),c=a.nodeName.toLowerCase()+"."+c[0]+" {";else{if(!u(a.id)){c=[];for(b=0;32>b;b++)8!==b&&12!==b&&16!==b&&20!==b||c.push(n.dash),d=B.floor(16*B.random()).toString(16),c.push(d);c=c.join(n.empty);a.id=c}c="#"+a.id+" {"}b=
[];b.push(c);b=b.concat(k);b.push("}");l.css[a.id]=b}}function M(a){var c=v.getElementsByTagName("head")[0],b=[],d;for(d in a.css)a.css.hasOwnProperty(d)&&(b=b.concat(a.css[d]));a=H(c,"style");a.type="text/css";a.appendChild(v.createTextNode(b.join(n.newLine)))}function L(){for(var a=v.getElementsByTagName("style"),c=a.length,b=0;b<c;b++)a[b].parentNode.removeChild(a[b])}function H(a,c){var b=c.toLowerCase(),d="text"===b;C.hasOwnProperty(b)||(C[b]=d?v.createTextNode(n.empty):v.createElement(b));b=
C[b].cloneNode(!1);a.appendChild(b);return b}function t(a){return null!==a&&void 0!==a&&a!==n.empty}function x(a){return t(a)&&"object"===typeof a}function u(a){return t(a)&&"string"===typeof a}function P(a){return t(a)&&"function"===typeof a}function G(a,c){return a.substring(0,c.length).toLowerCase()===c.toLowerCase()}function r(a,c){return t(a)&&"boolean"===typeof a?a:c}function D(a,c){if(u(a))a=a.split(n.space),0===a.length&&(a=c);else{var b=a;a=x(b)&&b instanceof Array?b:c}return a}function K(a){var c=
!0,b=null;try{u(a)&&(b=z.parse(a))}catch(d){try{b=eval("("+a+")"),P(b)&&(b=b())}catch(l){p.safeMode||(console.error("Errors in object: "+d.message+", "+l.message),c=!1),b=null}}return{parsed:c,result:b}}function I(a){p=x(a)?a:{};p.safeMode=r(p.safeMode,!0);p.formattingNodeTypes=D(p.formattingNodeTypes,"b strong i em mark small del ins sub sup".split(" "))}var N=this,v=null,y=null,z=null,B=null,p={},C={},n={empty:"",space:" ",newLine:"\n"},g={text:"#text",cssStyle:"$",attribute:"@",children:"&children"},
A={notFound:-1};this.json=function(){var a=null;(function(){a=this;var c={includeAttributes:!0,includeCssStyles:!1,includeText:!0,includeChildren:!0,friendlyFormat:!0,indentSpaces:2,ignoreNodeTypes:[],ignoreCssProperties:[]};a.includeAttributes=function(b){c.includeAttributes=r(b,c.includeAttributes);return this};a.includeCssStyles=function(b){c.includeCssStyles=r(b,c.includeCssStyles);return this};a.includeText=function(b){c.includeText=r(b,c.includeText);return this};a.includeChildren=function(b){c.includeChildren=
r(b,c.includeChildren);return this};a.friendlyFormat=function(b){c.friendlyFormat=r(b,c.friendlyFormat);return this};a.indentSpaces=function(b){var d=c.indentSpaces;var l=t(b)&&"number"===typeof b;c.indentSpaces=l?b:d;return this};a.ignoreNodeTypes=function(b){c.ignoreNodeTypes=D(b,c.ignoreNodeTypes);return this};a.ignoreCssProperties=function(b){c.ignoreCssProperties=D(b,c.ignoreCssProperties);return this};a.get=function(b){var d=n.empty;x(b)&&(d={},b=E(b,c,{}),d[b.nodeName]=b.nodeValues,d=c.friendlyFormat?
z.stringify(d,null,c.indentSpaces):z.stringify(d));return d}})();return a};this.html=function(){var a=null;(function(){a=this;var c={json:n.empty,templateData:{},removeAttributes:!0,clearHTML:!0,addCssToHead:!1,clearCssFromHead:!1};a.json=function(b){var d=c.json;b=u(b)?b:d;c.json=b;return this};a.templateData=function(b){var d=c.templateData;b=x(b)?b:d;c.templateData=b;return this};a.removeAttributes=function(b){c.removeAttributes=r(b,c.removeAttributes);return this};a.clearHTML=function(b){c.clearHTML=
r(b,c.clearHTML);return this};a.addCssToHead=function(b){c.addCssToHead=r(b,c.addCssToHead);return this};a.clearCssFromHead=function(b){c.clearCssFromHead=r(b,c.clearCssFromHead);return this};a.write=function(b){return J(b,c)}})();return a};this.setConfiguration=function(a){var c=!1,b;for(b in a)a.hasOwnProperty(b)&&p.hasOwnProperty(b)&&a[b]!==p[b]&&(p[b]=a[b],c=!0);c&&I(p);return this};this.getVersion=function(){return"0.5.0"};(function(a,c,b,d){v=a;y=c;z=b;B=d;I();t(y.$jhson)||(y.$jhson=this)})(document,
window,JSON,Math)})();