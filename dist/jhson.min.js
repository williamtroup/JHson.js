/*! JHson.js v0.2.0 | (c) Bunoon 2024 | MIT License */
(function(){function E(a,b,c,f,h){var d={},n=a.children.length,p=0;if(b){var q=a.attributes.length;"textarea"===a.nodeName.toLowerCase()&&t(a.value)&&(d[g.text]=a.value);for(var k=0;k<q;k++){var l=a.attributes[k];w(l.nodeName)&&(d[g.attribute+l.nodeName]=l.nodeValue)}}if(c&&x.getComputedStyle)for(q=y.defaultView.getComputedStyle(a),k=q.length,l=0;l<k;l++){var e=q[l];if(m.cssPropertiesToIgnore.indexOf(e)===B.notFound){var r=g.cssStyle+e;e=q.getPropertyValue(e);h.hasOwnProperty(r)&&h[r]===e||(d[r]=
e,h[r]=d[r])}}if(0<n)for(p=0,d[g.children]=[],q=0;q<n;q++){k=E;l=a.children[q];r=void 0;e=h;var F={};for(r in e)e.hasOwnProperty(r)&&(F[r]=e[r]);k=k(l,b,c,f,F);l=!1;m.formattingNodeTypes.indexOf(k.nodeName.toLowerCase())>B.notFound?p++:m.nodeTypesToIgnore.indexOf(k.nodeName.toLowerCase())===B.notFound&&(l=!0,p++);l&&(l={},l[k.nodeName]=k.nodeValues,d[g.children].push(l))}f&&(b=p,w(a.innerText)&&(0<b&&t(d[g.children])&&0===d[g.children].length?d[g.text]=a.innerHTML:a.innerText===a.innerHTML&&(d[g.text]=
a.innerText)));t(d[g.children])&&0===d[g.children].length&&delete d[g.children];return{nodeName:a.nodeName.toLowerCase(),nodeValues:d}}function J(a,b,c){b=K(b);var f=[];if(z(c)){for(var h in c)c.hasOwnProperty(h)&&f.push(h);f=f.sort(function(n,p){return p.length-n.length})}if(b.parsed&&z(b.result))for(var d in b.result)if(d===a.nodeName.toLowerCase()){for(;0<a.attributes.length;)a.removeAttribute(a.attributes[0].name);a.innerHTML=u.empty;G(a,b.result[d],f,c)}return L}function G(a,b,c,f){var h=c.length,
d;for(d in b)if(H(d,g.attribute)){var n=d.replace(g.attribute,u.empty);a.setAttribute(n,b[d])}else if(H(d,g.cssStyle))n=d.replace(g.cssStyle,u.empty),a.style[n]=b[d];else if(d===g.text){if(a.innerHTML=b[d],0<h)for(n=0;n<h;n++){var p=c[n];f.hasOwnProperty(p)&&(a.innerHTML=a.innerHTML.replace(new RegExp(p,"g"),f[p]))}}else if(d===g.children)for(n=b[d].length,p=0;p<n;p++){var q=b[d][p],k;for(k in q)if(q.hasOwnProperty(k)){var l=a,e=k.toLowerCase().toLowerCase(),r="text"===e;C.hasOwnProperty(e)||(C[e]=
r?y.createTextNode(u.empty):y.createElement(e));e=C[e].cloneNode(!1);l.appendChild(e);G(e,q[k],c,f)}}}function t(a){return null!==a&&void 0!==a&&a!==u.empty}function z(a){return t(a)&&"object"===typeof a}function v(a){return t(a)&&"boolean"===typeof a}function w(a){return t(a)&&"string"===typeof a}function M(a){return t(a)&&"function"===typeof a}function H(a,b){return a.substring(0,b.length).toLowerCase()===b.toLowerCase()}function D(a,b){if(w(a))a=a.split(u.space),0===a.length&&(a=b);else{var c=
a;a=z(c)&&c instanceof Array?c:b}return a}function K(a){var b=!0,c=null;try{w(a)&&(c=A.parse(a))}catch(f){try{c=eval("("+a+")"),M(c)&&(c=c())}catch(h){m.safeMode||(console.error("Errors in object: "+f.message+", "+h.message),b=!1),c=null}}return{parsed:b,result:c}}function I(){var a=m;var b=m.safeMode;b=v(b)?b:!0;a.safeMode=b;m.nodeTypesToIgnore=D(m.nodeTypesToIgnore,[]);m.cssPropertiesToIgnore=D(m.cssPropertiesToIgnore,[]);a=m;b=m.jsonIndentationSpaces;var c=t(b)&&"number"===typeof b;a.jsonIndentationSpaces=
c?b:2;m.formattingNodeTypes=D(m.formattingNodeTypes,"b strong i em mark small del ins sub sup".split(" "))}var L=this,y=null,x=null,A=null,m={},C={},u={empty:"",space:" "},g={text:"#text",cssStyle:"$",attribute:"@",children:"&children"},B={notFound:-1};this.get=function(a,b,c,f,h){b=v(b)?b:!0;c=v(c)?c:!1;f=v(f)?f:!0;h=v(h)?h:!0;var d={};a=E(a,b,c,f,{});d[a.nodeName]=a.nodeValues;return h?A.stringify(d,null,m.jsonIndentationSpaces):A.stringify(d)};this.write=function(a,b,c){return J(a,b,c)};this.setConfiguration=
function(a){m=z(a)?a:{};I();return this};this.getVersion=function(){return"0.2.0"};(function(a,b,c){y=a;x=b;A=c;I();t(x.$jhson)||(x.$jhson=this)})(document,window,JSON)})();